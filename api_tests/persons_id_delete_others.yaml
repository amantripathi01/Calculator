# ********RoostGPT********
# Test generated by RoostGPT for test elasticLogStash using AI Type Open AI and AI Model gpt-4

# Test generated for /recipients/persons/{id}_delete for http method type DELETE in artillery framework
# RoostTestHash=819791060f



# ********RoostGPT********
config:
  target: "{{ $processEnvironment.API_HOST }}"
  plugins:
    expect: {}
  payload:
    path: "persons_id_delete_others.csv"
    fields:
      - "id"
    skipHeader: true

scenarios:
  - name: Non-success API responses
    flow:
      - log: "Testing invalid request with missing Authorization header"
        post:
          url: "/recipients/persons/{{ id }}"
          expect:
            - statusCode: 401

      - think: 1

      - log: "Testing invalid request with incorrect URL"
        get:
          url: "/recipients/persons/invalid_id"
          headers:
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 404

      - think: 1

      - log: "Testing invalid request with incorrect HTTP method"
        delete:
          url: "/recipients/persons/{{ id }}"
          headers:
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 405

      - think: 1

      - log: "Testing invalid request with incorrect payload"
        post:
          url: "/recipients/persons/{{ id }}"
          json:
            invalid_key: "invalid_value"
          headers:
            Token: "{{ $processEnvironment.AUTH_TOKEN }}"
          expect:
            - statusCode: 400

      - think: 1
